
<!DOCTYPE HTML>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="http://fonts.googleapis.com/css?family=Roboto+Condensed:700,400&amp;subset=latin,cyrillic-ext,greek-ext,greek,vietnamese,latin-ext,cyrillic" rel="stylesheet" type="text/css">
	<link href="css/main.css" rel="stylesheet" type="text/css">
	<title>Summeranza 2015</title>
	<script src="js/modernizr.js"></script>
</head>
<body>
<section class="section--full-screen-video">
	<video id="mainVideo" class="videoPlayer" poster="" muted loop autoplay src="Coachella 2014-360.mp4"></video>
	<article class="intro-text">
		<h1>Summeranza</h1>
		<p><i>The ultimate student festival</i></p>
		<button class="watch-video">Watch video</button>
	</article>
	<a class="arrow-down">
		<img src="http://www.ef.com/Campaign/2014/summeranza/img/arrow-down.png" width='15' alt="" />
	</a>
</section>
<!-- /.section--full-screen-video -->
<section data-scroll-index="0" class="section--small">
	<i>Kempton Park, London, UK <br />10 July 2015</i>
<!-- 	<img src="http://www.ef.se/blog/wp-content/themes/ef/images/ef-logo.png" alt="" /> -->
</section>
<!-- /.section--small -->
<section class="wrapper">
	<nav class="site-navigation">
		<span class="site-navigation__link"><img src="http://www.ef.com/sitecore/__~/media/A2E821EF87C64F91BDB813DBE6E0E7B5.ashx/" alt="" width="80" /></span><br />
		<a class="site-navigation__link active"><span>Party</span></a>
		<a class="site-navigation__link"><span>Artist</span></a>
		<a class="site-navigation__link"><span>The venue</span></a>
		<a class="site-navigation__link"><span>Get your ticket</span></a>
		<a class="site-navigation__link"><span>Book your spot</span></a>
	</nav>
	<!-- /.site-navigation -->	
	<article class="page-section first">
		<div class="line">
			<header class="page-section__header">
				<h2>THE PARTY OF THE SUMMER</h2>
				<div class="page-section__header__body">
					<p>Summeranza is singing in the front row and shaking it to a headline performance. It's VIPs, roller coasters and cotton candy with 5,000 students from over 100 countries. Summeranza is the ultimate student festival - and the highlight of your language experience abroad with EF.</p>
				</div>
			</header>
			<div class="page-section__body">
				<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatum ducimus nam deleniti, vel illo magni mollitia unde dignissimos cumque, ipsum ullam aut quasi ratione autem quae quaerat itaque! Voluptatum, quia!</p>
				<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatum ducimus nam deleniti, vel illo magni mollitia unde dignissimos cumque, ipsum ullam aut quasi ratione autem quae quaerat itaque! Voluptatum, quia!</p>
				<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatum ducimus nam deleniti, vel illo magni mollitia unde dignissimos cumque, ipsum ullam aut quasi ratione autem quae quaerat itaque! Voluptatum, quia!</p>
				<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatum ducimus nam deleniti, vel illo magni mollitia unde dignissimos cumque, ipsum ullam aut quasi ratione autem quae quaerat itaque! Voluptatum, quia!</p>
			</div>
		</div><!-- /.line -->
	</article><!-- /.page-section -->	
	<article class="page-section">
		<div class="line">
			<header class="page-section__header">
				<h2>THE LINEUP</h2>
				<div class="page-section__header__body">
					<p>Roll out the red carpet, start the drum roll and meet our Summeranza superstars</p>
				</div>
			</header>
			<div class="page-section__body">
				<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatum ducimus nam deleniti, vel illo magni mollitia unde dignissimos cumque, ipsum ullam aut quasi ratione autem quae quaerat itaque! Voluptatum, quia!</p>
				<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatum ducimus nam deleniti, vel illo magni mollitia unde dignissimos cumque, ipsum ullam aut quasi ratione autem quae quaerat itaque! Voluptatum, quia!</p>
				<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatum ducimus nam deleniti, vel illo magni mollitia unde dignissimos cumque, ipsum ullam aut quasi ratione autem quae quaerat itaque! Voluptatum, quia!</p>
				<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatum ducimus nam deleniti, vel illo magni mollitia unde dignissimos cumque, ipsum ullam aut quasi ratione autem quae quaerat itaque! Voluptatum, quia!</p>
			</div>
		</div><!-- /.line -->
	</article><!-- /.page-section -->
	<article class="page-section">
		<div class="line">
			<header class="page-section__header">
				<h2>5,000 STUDENTS FROM OVER 100 COUNTRIES</h2>
				<div class="page-section__header__body">
					<p>in the same place on the same day</p>
				</div>
			</header>
			<div class="page-section__body">
				<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatum ducimus nam deleniti, vel illo magni mollitia unde dignissimos cumque, ipsum ullam aut quasi ratione autem quae quaerat itaque! Voluptatum, quia!</p>
				<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatum ducimus nam deleniti, vel illo magni mollitia unde dignissimos cumque, ipsum ullam aut quasi ratione autem quae quaerat itaque! Voluptatum, quia!</p>
				<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatum ducimus nam deleniti, vel illo magni mollitia unde dignissimos cumque, ipsum ullam aut quasi ratione autem quae quaerat itaque! Voluptatum, quia!</p>
				<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatum ducimus nam deleniti, vel illo magni mollitia unde dignissimos cumque, ipsum ullam aut quasi ratione autem quae quaerat itaque! Voluptatum, quia!</p>
			</div>
		</div><!-- /.line -->
	</article><!-- /.page-section -->
	<article class="page-section">
		<div class="line">
			<header class="page-section__header">
				<h2>GET YOUR TICKET</h2>
				<div class="page-section__header__body">
					<p>â‚¬75 - everything included</p>
				</div>
			</header>
			<div class="page-section__body">
				<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatum ducimus nam deleniti, vel illo magni mollitia unde dignissimos cumque, ipsum ullam aut quasi ratione autem quae quaerat itaque! Voluptatum, quia!</p>
				<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatum ducimus nam deleniti, vel illo magni mollitia unde dignissimos cumque, ipsum ullam aut quasi ratione autem quae quaerat itaque! Voluptatum, quia!</p>
				<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatum ducimus nam deleniti, vel illo magni mollitia unde dignissimos cumque, ipsum ullam aut quasi ratione autem quae quaerat itaque! Voluptatum, quia!</p>
				<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatum ducimus nam deleniti, vel illo magni mollitia unde dignissimos cumque, ipsum ullam aut quasi ratione autem quae quaerat itaque! Voluptatum, quia!</p>
			</div>
			<div class="bg-image"></div>
		</div><!-- /.line -->
	</article><!-- /.page-section -->
	<article class="page-section page-section--form">
		<div class="line">
			<header class="page-section__header">
				<h2>BOOK YOUR SPOT</h2>
			</header>
			<div class="page-section__body">
				<form action="">
					<fieldset>
						<label for="">
							<input type="radio" name="student" />
							<span>I'm a EF student</span>
						</label>
						<label for="">
							<input type="radio" name="student" />
							<span>I'm not a EF student</span>
						</label>
					</fieldset>
					<fieldset>
						<input type="text" placeholder="First name" />
					</fieldset>
					<fieldset>
						<input type="text" placeholder="Last name" />
					</fieldset>
					<fieldset>
						<input type="email" placeholder="E-mail" />
					</fieldset>
					<fieldset>
						<select name="" id="">
							<option value="">Country</option>
						</select>
					</fieldset>
					<fieldset>
						<select name="" id="">
							<option value="">Destination</option>
						</select>
					</fieldset>
					<button class="button--submit">
						Reserve
					</button>				
				</form>
			</div>
		</div><!-- /.line -->
	</article>
	<!-- /.page-section -->

</section><!-- /.wrapper -->
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script type="text/javascript" src="js/fastClick.js"></script>
<script type="text/javascript" src="js/waypoints.js"></script>

<script>
(function(window){

	var body = document.body, 
		docElem = window.document.documentElement,
		backgroundColors = [
			"bg1",
			"bg2",
			"bg3",
			"bg4",
			"bg5"
		],
		$intro = $('.section--full-screen-video');

	function init(){
		adjustVideoPositioning("#mainVideo");
		reSizeVideoWrapper();

		// if(!Modernizr.touch){
			createWaypoint();
		// }

		$(".watch-video").on("click",function(){
			// if(scrollY()>0){
			// 	$("body").animate({
			// 		scrollTop: 0
			// 	},400,function(){
			// 		// $(".wrapper,.section--small").hide();
			// 		$(".intro-text").fadeOut(800,function(){
			// 			document.getElementById("mainVideo").muted = false;
			// 			document.getElementById("mainVideo").loop = false;
			// 			document.getElementById("mainVideo").currentTime = 0;
			// 			document.getElementById("mainVideo").controls = true;
			// 		});
			// 	});
			// } else {
				// $(".wrapper,.section--small").hide();
				$(".intro-text").fadeOut(800,function(){
					document.getElementById("mainVideo").muted = false;
					document.getElementById("mainVideo").loop = false;
					document.getElementById("mainVideo").currentTime = 0;
					document.getElementById("mainVideo").controls = true;
				});				
			// }
		});

		$(window).resize(function() {
			if(!Modernizr.touch){
				adjustVideoPositioning("#mainVideo");
				reSizeVideoWrapper();
			}
		});
	}

	function createWaypoint(){
		$('.page-section:eq(0)').addClass("static");
		$('.page-section').waypoint({
			handler: function(direction) {
				var currentIndex = $(".page-section").index(this);
					prevIndex = currentIndex-1;
				console.log(currentIndex);

				if(direction === "down"){
					console.log(direction);
					$("body").attr("class","").addClass(backgroundColors[currentIndex]);

					if(currentIndex === 0){
						return false
					}

					$('.page-section').removeClass("active");
					$(this).addClass("active");

					$(".site-navigation a").removeClass("active");
					$(".site-navigation a:eq("+(currentIndex)+")").addClass("active");

				} else if(direction === "up"){
					$("body").attr("class","").addClass(backgroundColors[prevIndex]);
					console.log(direction);

					if(prevIndex < 0){
						return false
					}

					$('.page-section').removeClass("active");
					$(".site-navigation a").removeClass("active");

					$(".site-navigation a:eq("+prevIndex+")").addClass("active");
					$(".page-section:eq("+prevIndex+")").addClass("active");
				}

			},
			offset: "50%"
		});
		$('.page-section.first').waypoint({
			handler: function(direction) {
				if(direction === "down"){
					$(this).addClass("active");	
					$(this).removeClass("static");	
					$(".site-navigation").addClass("fixed");
				} else {
					$(this).addClass("static");	
					$(this).removeClass("active");	
					$(".site-navigation").removeClass("fixed");
				}
			},
			offset: "0%"
		});
	}

	function reSizeVideoWrapper(){
		$intro.css({"height":getViewportH(),"width":getViewportW()});	
	}

	function adjustVideoPositioning(element) {
		var windowW = $(window).width();
		var windowH = $(window).height();
		var mediaAspect = 16/9;
		var windowAspect = windowW/windowH;
		if (windowAspect < mediaAspect) {
			// taller
			$(element).find("video")
				.width(windowH*mediaAspect)
				.height(windowH);
			$(element)
				.css('top',0)
				.css('left',-(windowH*mediaAspect-windowW)/2)
				.css('height',windowH);
			$(element+'_html5_api').css('width',windowH*mediaAspect);
			$(element+'_flash_api')
				.css('width',windowH*mediaAspect)
				.css('height',windowH);
		} else {
			// wider
			$(element).find("video")
				.width(windowW)
				.height(windowW/mediaAspect);
			$(element)
				.css('top',-(windowW/mediaAspect-windowH)/2)
				.css('left',0)
				.css('height',windowW/mediaAspect);
			$(element+'_html5_api').css('width','100%');
			$(element+'_flash_api')
				.css('width',windowW)
				.css('height',windowW/mediaAspect);
		}
	}

	function getViewportW() {
		var client = docElem['clientWidth'], inner = window['innerWidth'];
		return client < inner ? inner : client;
	}
	function getViewportH() {
		var client = docElem['clientHeight'], inner = window['innerHeight'];
		return client < inner ? inner : client;
	}
	function scrollX() { 
		return window.pageXOffset || docElem.scrollLeft; 
	}
	function scrollY() { 
		return window.pageYOffset || docElem.scrollTop; 
	}

	window.Application = {
		init: init
	}

}(window))  // Self execute

Application.init();

</script>
</body>
</html>
